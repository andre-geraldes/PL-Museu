%
% Layout retirado de http://www.di.uminho.pt/~prh/curplc09.html#notas
%
\documentclass{report}
\usepackage[portuges]{babel}
%\usepackage[utf8]{inputenc}
\usepackage[latin1]{inputenc}

\usepackage{url}
%\usepackage{alltt}
%\usepackage{fancyvrb}
\usepackage{listings}
%LISTING - GENERAL
\lstset{
	basicstyle=\small,
	numbers=left,
	numberstyle=\tiny,
	numbersep=5pt,
	breaklines=true,
    frame=tB,
	mathescape=true,
	escapeinside={(*@}{@*)}
}
%
%\lstset{ %
%	language=Java,							% choose the language of the code
%	basicstyle=\ttfamily\footnotesize,		% the size of the fonts that are used for the code
%	keywordstyle=\bfseries,					% set the keyword style
%	%numbers=left,							% where to put the line-numbers
%	numberstyle=\scriptsize,				% the size of the fonts that are used for the line-numbers
%	stepnumber=2,							% the step between two line-numbers. If it's 1 each line
%											% will be numbered
%	numbersep=5pt,							% how far the line-numbers are from the code
%	backgroundcolor=\color{white},			% choose the background color. You must add \usepackage{color}
%	showspaces=false,						% show spaces adding particular underscores
%	showstringspaces=false,					% underline spaces within strings
%	showtabs=false,							% show tabs within strings adding particular underscores
%	frame=none,								% adds a frame around the code
%	%abovecaptionskip=-.8em,
%	%belowcaptionskip=.7em,
%	tabsize=2,								% sets default tabsize to 2 spaces
%	captionpos=b,							% sets the caption-position to bottom
%	breaklines=true,						% sets automatic line breaking
%	breakatwhitespace=false,				% sets if automatic breaks should only happen at whitespace
%	title=\lstname,							% show the filename of files included with \lstinputlisting;
%											% also try caption instead of title
%	escapeinside={\%*}{*)},					% if you want to add a comment within your code
%	morekeywords={*,...}					% if you want to add more keywords to the set
%}

\usepackage{xspace}

\parindent=0pt
\parskip=2pt

\def\darius{\textsf{Darius}\xspace}
\def\java{\texttt{Java}\xspace}

\title{Processamento de Linguagens\\ (3º ano de Licenciatura em Engenharia Informática)\\ \textbf{Trabalho Prático 1}\\ Relatório de Desenvolvimento}
\author{André Gerlades (67673) \and Patrícia Barros (67665) \and Sandra Ferreira (67709)}
\date{\today}

\begin{document}

\maketitle

\begin{abstract}
Este relatório descreve todo o processo de desenvolvimento e decisões tomadas para a realização do primeiro trabalho prático da Unidade Curricular de Processamento de Linguagens.\\ O problema a resolver consiste no desenvolvimento de um Filtro de Texto, utilizando Flex, para processar ficheiros XML com informações sobre fotografias e gerar um álbum HTML a partir delas.

\end{abstract}

\tableofcontents

\chapter{Introdução} \label{intro}


A resolução deste trabalho prático passa pelo desenvolvimento de um Filtro de Texto em Flex para gerar ficheiros em HTML. Para isso utilizamos as técnicas leccionadas nas aulas da Unidade Curricular de Processamento de Linguagens. Pretendemos portanto com este trabalho aprimorar as nossas capacidades de escrever \emph{Expressões Regulares (ER)} e também a nossa experiência na utilização da linguagem de programação C.\\ Neste relatório apresentamos todos os passos e decisões tomadas durante todo o processo, descrevemos as estruturas criadas para guardar o texto extraído pelo filtro e também uma descrição do produto final (em HTML) obtido com a utilização do filtro criado por nós.


\section*{Estrutura do Relatório} \
A elaboração deste documento teve por base a estrutura do relatório fornecida pelo docente. \\
O relatório encontra-se então estruturada da seguinte forma: possui um primeiro capítulo que faz uma contextualização ao assunto tratado neste trabalho, seguindo-se uma introdução onde são apresentadas as metas de aprendizagem pertendidas.\\
Posteriormente é exposto o tema escolhido para a desenvolver o trabalho e as tarefas que nele estão envolvidas.\\ \\
FALAR DO CAPITULO DOS REQUISITOS
\\ \\
Imediatamente após, são exibidas as expressões regulares definidas para extrair do ficheiro XML as informações para a construção da página HTML, mostrando também os estados da aplicação e os módulos desta.\\
Não menos importante, seguem-se os capitulos de apresentação das estruturas de dados usadas no desenvolvimento do trabalho e dos testes realizados à aplicação com os devidos resultados.
Por último, faz-se uma análise crítica relativa quer ao desenvolvimento do projeto quer ao seu estado final e ainda é feita uma abordagem ao trabalho futuro.

\chapter{Análise e Especificação} \label{ae}
\section{Descrição informal do problema}
Dos enunciados propostos o que escolhemos seguir foi o "Museu da Pessoa - tratamento de fotografias". \\Neste enunciado foi-nos pedido que realizassemos um Filtro de Texto em Flex para, através de um ficheiro XML com informações (onde,quando,quem e facto) sobre fotografias que fazem parte do Museu da Pessoa, gerar um álbum em HTML em que sejam mostradas as fotografias em questão, por ordem cronológica, sendo que o título de cada fotografia será o campo "facto". Foi-nos ainda pedido que apresentássemos um índice no ínicio com o nome de todas as pessoas retratadas.
\section{Especificação do Requisitos}
\subsection{Dados}
\subsection{Pedidos}
\subsection{Relações}

\chapter{Concepção/desenho da Resolução}
Para a resolução do problema foi necessário definirmos \emph{Expressões Regulares}, estados no Flex e ainda estruturas de dados para guardar a informação filtrada. Nos próximos capítulos iremos descrever detalhadamente cada um destes pontos.
\section{Expressões Regulares}
As expressões regulares definidas visam extrair do ficheiro XML as informações necessárias para a construção da página HTML: foto, quando, onde, quem e facto. Após analisar cuidadosamente a estrutura dos ficheiros XML em questão chegamos às seguintes \emph{Expressões Regulares}:\\ \textbf{QUEM} "<"(?i:QUEM)">" \\ \textbf{FACTO} "<"(?i:FACTO)">" \\ \textbf{FOTO} "<"(?i:FOTO)" "(?i:FICHEIRO)"=\"" \\ \textbf{QUANDO} "<"(?i:QUANDO)" "(?i:DATA)"=\"" \\ 

\section{Estados da Aplicação}


\section{Módulos da Aplicação}
\textbf{makefile} Ficheiro com a configuração de compliação.\\
\textbf{parser.l} Ficheiro com código necessário para fazer o processamento dos ficheiros XML que contêm a informação. \\
\textbf{listaligada.h} Ficheiro que contém o código da lista ligada e das funções necessárias para a sua manipulação. \\
\textbf{dados.h} Ficheiro onde se encontra a estrutura definida para guardar a data das fotos. \\
\textbf{html.h} Ficheiro com o código que gera as páginas em HTML.

\section{Estruturas de Dados}
Dado ser necessário guradar alguns dados, a estutura de dados escolhida foi a lista ligada. Esta estrutura possui um campo para guardar a data da fotografia, o facto, breve descrição da foto,o nome do ficheiro da foto e por último, um campo quem, que se destina a guardar os nomes das pessoas de quem se tratam as fotos.

\begin{lstlisting}[language=C]
struct data {
	int ano;
	int mes;
	int dia:
};

struct listaLigada {
	struct data datay;
	char *nome;
	char *quem;
	char *fato;
	struct listaLigada * next;
};
\end{lstlisting}


\chapter{Codificação e Testes}
\section{Alternativas, Decisões e Problemas de Implementação}
\section{Testes realizados e Resultados}
Mostram-se a seguir alguns testes feitos (valores introduzidos) e
os respectivos resultados obtidos:

%\VerbatimInput{teste1.txt}


\chapter{Conclusão} \label{concl}
Síntese do Documento.\\
Estado final do projecto; Análise crítica dos resultados.\\
Trabalho futuro.

\appendix
\chapter{Código do Programa}


\lstinputlisting{parser.l} %input de um ficheiro

\bibliographystyle{alpha}
\bibliography{../Bibs/lp,prh}















\end{document} 